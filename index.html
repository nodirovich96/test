<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Telegram Mini App Test</title>
</head>
<body>
  <h1>Telegram Mini App Test</h1>
  <p id="status">Загрузка...</p>
  <pre id="rawdata"></pre>

  <script>
    // Код для получения initData и initDataUnsafe
    const tg = window.Telegram?.WebApp;

    if (!tg) {
      console.log("❌ Не Telegram WebApp");
      document.getElementById("status").innerText = "❌ Не Telegram WebApp";
      document.getElementById("rawdata").innerText = "Откройте через кнопку бота на мобильном Telegram";
    } else {
      tg.ready(); // обязательно вызываем для Mini App
      console.log("Raw initData:", tg.initData); // строка с данными
      console.log("Parsed initDataUnsafe:", tg.initDataUnsafe); // объект с user, chat и т.д.

      document.getElementById("status").innerText = "✅ Telegram Mini App открыт";
      document.getElementById("rawdata").innerText = JSON.stringify(tg.initDataUnsafe, null, 2);
    }
  </script>
</body>
</html>
